<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ast (catala.Surface.Ast)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">catala</a> &#x00BB; <a href="../index.html">Surface</a> &#x00BB; Ast</nav><header class="odoc-preamble"><h1>Module <code><span>Surface.Ast</span></code></h1><p>Abstract syntax tree built by the Catala parser</p></header><nav class="odoc-toc"><ul><li><a href="#visitor-classes-for-programs">Visitor classes for programs</a></li><li><a href="#type-definitions">Type definitions</a></li><li><a href="#helpers">Helpers</a></li></ul></nav><div class="odoc-content"><h2 id="visitor-classes-for-programs"><a href="#visitor-classes-for-programs" class="anchor"></a>Visitor classes for programs</h2><p>To allow for quick traversal and/or modification of this AST structure, we provide a <a href="https://en.wikipedia.org/wiki/Visitor_pattern">visitor design pattern</a>. This feature is implemented via <a href="https://gitlab.inria.fr/fpottier/visitors">François Pottier's OCaml visitors library</a>.</p><h2 id="type-definitions"><a href="#type-definitions" class="anchor"></a>Type definitions</h2><div class="odoc-spec"><div class="spec type" id="type-uident" class="anchored"><a href="#type-uident" class="anchor"></a><code><span><span class="keyword">type</span> uident</span><span> = string</span></code></div><div class="spec-doc"><p>Constructors are CamelCase</p></div></div><div class="odoc-spec"><div class="spec class" id="class-uident_map" class="anchored"><a href="#class-uident_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-uident_map/index.html">uident_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-uident_iter" class="anchored"><a href="#class-uident_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-uident_iter/index.html">uident_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-lident" class="anchored"><a href="#type-lident" class="anchor"></a><code><span><span class="keyword">type</span> lident</span><span> = string</span></code></div><div class="spec-doc"><p>Idents are snake_case</p></div></div><div class="odoc-spec"><div class="spec class" id="class-lident_map" class="anchored"><a href="#class-lident_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-lident_map/index.html">lident_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-lident_iter" class="anchored"><a href="#class-lident_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-lident_iter/index.html">lident_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-path" class="anchored"><a href="#type-path" class="anchor"></a><code><span><span class="keyword">type</span> path</span><span> = <span><span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-path_map" class="anchored"><a href="#class-path_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-path_map/index.html">path_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-path_iter" class="anchored"><a href="#class-path_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-path_iter/index.html">path_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-scope_var" class="anchored"><a href="#type-scope_var" class="anchor"></a><code><span><span class="keyword">type</span> scope_var</span><span> = <span><span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span></span></code></div><div class="spec-doc"><p><code>foo.bar</code> in binding position: used to specify variables of subscopes</p></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_var_map" class="anchored"><a href="#class-scope_var_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_var_map/index.html">scope_var_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_var_iter" class="anchored"><a href="#class-scope_var_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_var_iter/index.html">scope_var_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-primitive_typ" class="anchored"><a href="#type-primitive_typ" class="anchor"></a><code><span><span class="keyword">type</span> primitive_typ</span><span> = </span></code><table><tr id="type-primitive_typ.Integer" class="anchored"><td class="def variant constructor"><a href="#type-primitive_typ.Integer" class="anchor"></a><code><span>| </span><span><span class="constructor">Integer</span></span></code></td></tr><tr id="type-primitive_typ.Decimal" class="anchored"><td class="def variant constructor"><a href="#type-primitive_typ.Decimal" class="anchor"></a><code><span>| </span><span><span class="constructor">Decimal</span></span></code></td></tr><tr id="type-primitive_typ.Boolean" class="anchored"><td class="def variant constructor"><a href="#type-primitive_typ.Boolean" class="anchor"></a><code><span>| </span><span><span class="constructor">Boolean</span></span></code></td></tr><tr id="type-primitive_typ.Money" class="anchored"><td class="def variant constructor"><a href="#type-primitive_typ.Money" class="anchor"></a><code><span>| </span><span><span class="constructor">Money</span></span></code></td></tr><tr id="type-primitive_typ.Duration" class="anchored"><td class="def variant constructor"><a href="#type-primitive_typ.Duration" class="anchor"></a><code><span>| </span><span><span class="constructor">Duration</span></span></code></td></tr><tr id="type-primitive_typ.Text" class="anchored"><td class="def variant constructor"><a href="#type-primitive_typ.Text" class="anchor"></a><code><span>| </span><span><span class="constructor">Text</span></span></code></td></tr><tr id="type-primitive_typ.Date" class="anchored"><td class="def variant constructor"><a href="#type-primitive_typ.Date" class="anchor"></a><code><span>| </span><span><span class="constructor">Date</span></span></code></td></tr><tr id="type-primitive_typ.Named" class="anchored"><td class="def variant constructor"><a href="#type-primitive_typ.Named" class="anchor"></a><code><span>| </span><span><span class="constructor">Named</span> <span class="keyword">of</span> <a href="#type-path">path</a> * <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-primitive_typ_map" class="anchored"><a href="#class-primitive_typ_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-primitive_typ_map/index.html">primitive_typ_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-primitive_typ_iter" class="anchored"><a href="#class-primitive_typ_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-primitive_typ_iter/index.html">primitive_typ_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-base_typ_data" class="anchored"><a href="#type-base_typ_data" class="anchor"></a><code><span><span class="keyword">type</span> base_typ_data</span><span> = </span></code><table><tr id="type-base_typ_data.Primitive" class="anchored"><td class="def variant constructor"><a href="#type-base_typ_data.Primitive" class="anchor"></a><code><span>| </span><span><span class="constructor">Primitive</span> <span class="keyword">of</span> <a href="#type-primitive_typ">primitive_typ</a></span></code></td></tr><tr id="type-base_typ_data.Collection" class="anchored"><td class="def variant constructor"><a href="#type-base_typ_data.Collection" class="anchor"></a><code><span>| </span><span><span class="constructor">Collection</span> <span class="keyword">of</span> <span><a href="#type-base_typ_data">base_typ_data</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-base_typ_data_map" class="anchored"><a href="#class-base_typ_data_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-base_typ_data_map/index.html">base_typ_data_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-base_typ_data_iter" class="anchored"><a href="#class-base_typ_data_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-base_typ_data_iter/index.html">base_typ_data_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-base_typ" class="anchored"><a href="#type-base_typ" class="anchor"></a><code><span><span class="keyword">type</span> base_typ</span><span> = </span></code><table><tr id="type-base_typ.Condition" class="anchored"><td class="def variant constructor"><a href="#type-base_typ.Condition" class="anchor"></a><code><span>| </span><span><span class="constructor">Condition</span></span></code></td></tr><tr id="type-base_typ.Data" class="anchored"><td class="def variant constructor"><a href="#type-base_typ.Data" class="anchor"></a><code><span>| </span><span><span class="constructor">Data</span> <span class="keyword">of</span> <a href="#type-base_typ_data">base_typ_data</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-base_typ_map" class="anchored"><a href="#class-base_typ_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-base_typ_map/index.html">base_typ_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-base_typ_iter" class="anchored"><a href="#class-base_typ_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-base_typ_iter/index.html">base_typ_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-func_typ" class="anchored"><a href="#type-func_typ" class="anchor"></a><code><span><span class="keyword">type</span> func_typ</span><span> = </span><span>{</span></code><table><tr id="type-func_typ.arg_typ" class="anchored"><td class="def record field"><a href="#type-func_typ.arg_typ" class="anchor"></a><code><span>arg_typ : <span><span>(<span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <span><a href="#type-base_typ">base_typ</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>)</span>
            list</span>;</span></code></td></tr><tr id="type-func_typ.return_typ" class="anchored"><td class="def record field"><a href="#type-func_typ.return_typ" class="anchor"></a><code><span>return_typ : <span><a href="#type-base_typ">base_typ</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-func_typ_map" class="anchored"><a href="#class-func_typ_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-func_typ_map/index.html">func_typ_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-func_typ_iter" class="anchored"><a href="#class-func_typ_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-func_typ_iter/index.html">func_typ_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-typ" class="anchored"><a href="#type-typ" class="anchor"></a><code><span><span class="keyword">type</span> typ</span><span> = <span><a href="#type-naked_typ">naked_typ</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-naked_typ" class="anchored"><a href="#type-naked_typ" class="anchor"></a><code><span><span class="keyword">and</span> naked_typ</span><span> = </span></code><table><tr id="type-naked_typ.Base" class="anchored"><td class="def variant constructor"><a href="#type-naked_typ.Base" class="anchor"></a><code><span>| </span><span><span class="constructor">Base</span> <span class="keyword">of</span> <a href="#type-base_typ">base_typ</a></span></code></td></tr><tr id="type-naked_typ.Func" class="anchored"><td class="def variant constructor"><a href="#type-naked_typ.Func" class="anchor"></a><code><span>| </span><span><span class="constructor">Func</span> <span class="keyword">of</span> <a href="#type-func_typ">func_typ</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-typ_map" class="anchored"><a href="#class-typ_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-typ_map/index.html">typ_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-typ_iter" class="anchored"><a href="#class-typ_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-typ_iter/index.html">typ_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-struct_decl_field" class="anchored"><a href="#type-struct_decl_field" class="anchor"></a><code><span><span class="keyword">type</span> struct_decl_field</span><span> = </span><span>{</span></code><table><tr id="type-struct_decl_field.struct_decl_field_name" class="anchored"><td class="def record field"><a href="#type-struct_decl_field.struct_decl_field_name" class="anchor"></a><code><span>struct_decl_field_name : <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-struct_decl_field.struct_decl_field_typ" class="anchored"><td class="def record field"><a href="#type-struct_decl_field.struct_decl_field_typ" class="anchor"></a><code><span>struct_decl_field_typ : <a href="#type-typ">typ</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-struct_decl_field_map" class="anchored"><a href="#class-struct_decl_field_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-struct_decl_field_map/index.html">struct_decl_field_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-struct_decl_field_iter" class="anchored"><a href="#class-struct_decl_field_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-struct_decl_field_iter/index.html">struct_decl_field_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-struct_decl" class="anchored"><a href="#type-struct_decl" class="anchor"></a><code><span><span class="keyword">type</span> struct_decl</span><span> = </span><span>{</span></code><table><tr id="type-struct_decl.struct_decl_name" class="anchored"><td class="def record field"><a href="#type-struct_decl.struct_decl_name" class="anchor"></a><code><span>struct_decl_name : <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-struct_decl.struct_decl_fields" class="anchored"><td class="def record field"><a href="#type-struct_decl.struct_decl_fields" class="anchor"></a><code><span>struct_decl_fields : <span><span><a href="#type-struct_decl_field">struct_decl_field</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-struct_decl_map" class="anchored"><a href="#class-struct_decl_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-struct_decl_map/index.html">struct_decl_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-struct_decl_iter" class="anchored"><a href="#class-struct_decl_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-struct_decl_iter/index.html">struct_decl_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-enum_decl_case" class="anchored"><a href="#type-enum_decl_case" class="anchor"></a><code><span><span class="keyword">type</span> enum_decl_case</span><span> = </span><span>{</span></code><table><tr id="type-enum_decl_case.enum_decl_case_name" class="anchored"><td class="def record field"><a href="#type-enum_decl_case.enum_decl_case_name" class="anchor"></a><code><span>enum_decl_case_name : <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-enum_decl_case.enum_decl_case_typ" class="anchored"><td class="def record field"><a href="#type-enum_decl_case.enum_decl_case_typ" class="anchor"></a><code><span>enum_decl_case_typ : <span><a href="#type-typ">typ</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-enum_decl_case_map" class="anchored"><a href="#class-enum_decl_case_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-enum_decl_case_map/index.html">enum_decl_case_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-enum_decl_case_iter" class="anchored"><a href="#class-enum_decl_case_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-enum_decl_case_iter/index.html">enum_decl_case_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-enum_decl" class="anchored"><a href="#type-enum_decl" class="anchor"></a><code><span><span class="keyword">type</span> enum_decl</span><span> = </span><span>{</span></code><table><tr id="type-enum_decl.enum_decl_name" class="anchored"><td class="def record field"><a href="#type-enum_decl.enum_decl_name" class="anchor"></a><code><span>enum_decl_name : <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-enum_decl.enum_decl_cases" class="anchored"><td class="def record field"><a href="#type-enum_decl.enum_decl_cases" class="anchor"></a><code><span>enum_decl_cases : <span><span><a href="#type-enum_decl_case">enum_decl_case</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-enum_decl_map" class="anchored"><a href="#class-enum_decl_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-enum_decl_map/index.html">enum_decl_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-enum_decl_iter" class="anchored"><a href="#class-enum_decl_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-enum_decl_iter/index.html">enum_decl_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-match_case_pattern" class="anchored"><a href="#type-match_case_pattern" class="anchor"></a><code><span><span class="keyword">type</span> match_case_pattern</span><span> =
  <span><span><span>(<a href="#type-path">path</a> * <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>)</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span>
  * <span><span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-match_case_pattern_map" class="anchored"><a href="#class-match_case_pattern_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-match_case_pattern_map/index.html">match_case_pattern_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-match_case_pattern_iter" class="anchored"><a href="#class-match_case_pattern_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-match_case_pattern_iter/index.html">match_case_pattern_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-op_kind" class="anchored"><a href="#type-op_kind" class="anchor"></a><code><span><span class="keyword">type</span> op_kind</span><span> = </span></code><table><tr id="type-op_kind.KPoly" class="anchored"><td class="def variant constructor"><a href="#type-op_kind.KPoly" class="anchor"></a><code><span>| </span><span><span class="constructor">KPoly</span></span></code></td></tr><tr id="type-op_kind.KInt" class="anchored"><td class="def variant constructor"><a href="#type-op_kind.KInt" class="anchor"></a><code><span>| </span><span><span class="constructor">KInt</span></span></code></td></tr><tr id="type-op_kind.KDec" class="anchored"><td class="def variant constructor"><a href="#type-op_kind.KDec" class="anchor"></a><code><span>| </span><span><span class="constructor">KDec</span></span></code></td></tr><tr id="type-op_kind.KMoney" class="anchored"><td class="def variant constructor"><a href="#type-op_kind.KMoney" class="anchor"></a><code><span>| </span><span><span class="constructor">KMoney</span></span></code></td></tr><tr id="type-op_kind.KDate" class="anchored"><td class="def variant constructor"><a href="#type-op_kind.KDate" class="anchor"></a><code><span>| </span><span><span class="constructor">KDate</span></span></code></td></tr><tr id="type-op_kind.KDuration" class="anchored"><td class="def variant constructor"><a href="#type-op_kind.KDuration" class="anchor"></a><code><span>| </span><span><span class="constructor">KDuration</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-op_kind_map" class="anchored"><a href="#class-op_kind_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-op_kind_map/index.html">op_kind_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-op_kind_iter" class="anchored"><a href="#class-op_kind_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-op_kind_iter/index.html">op_kind_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-binop" class="anchored"><a href="#type-binop" class="anchor"></a><code><span><span class="keyword">type</span> binop</span><span> = </span></code><table><tr id="type-binop.And" class="anchored"><td class="def variant constructor"><a href="#type-binop.And" class="anchor"></a><code><span>| </span><span><span class="constructor">And</span></span></code></td></tr><tr id="type-binop.Or" class="anchored"><td class="def variant constructor"><a href="#type-binop.Or" class="anchor"></a><code><span>| </span><span><span class="constructor">Or</span></span></code></td></tr><tr id="type-binop.Xor" class="anchored"><td class="def variant constructor"><a href="#type-binop.Xor" class="anchor"></a><code><span>| </span><span><span class="constructor">Xor</span></span></code></td></tr><tr id="type-binop.Add" class="anchored"><td class="def variant constructor"><a href="#type-binop.Add" class="anchor"></a><code><span>| </span><span><span class="constructor">Add</span> <span class="keyword">of</span> <a href="#type-op_kind">op_kind</a></span></code></td></tr><tr id="type-binop.Sub" class="anchored"><td class="def variant constructor"><a href="#type-binop.Sub" class="anchor"></a><code><span>| </span><span><span class="constructor">Sub</span> <span class="keyword">of</span> <a href="#type-op_kind">op_kind</a></span></code></td></tr><tr id="type-binop.Mult" class="anchored"><td class="def variant constructor"><a href="#type-binop.Mult" class="anchor"></a><code><span>| </span><span><span class="constructor">Mult</span> <span class="keyword">of</span> <a href="#type-op_kind">op_kind</a></span></code></td></tr><tr id="type-binop.Div" class="anchored"><td class="def variant constructor"><a href="#type-binop.Div" class="anchor"></a><code><span>| </span><span><span class="constructor">Div</span> <span class="keyword">of</span> <a href="#type-op_kind">op_kind</a></span></code></td></tr><tr id="type-binop.Lt" class="anchored"><td class="def variant constructor"><a href="#type-binop.Lt" class="anchor"></a><code><span>| </span><span><span class="constructor">Lt</span> <span class="keyword">of</span> <a href="#type-op_kind">op_kind</a></span></code></td></tr><tr id="type-binop.Lte" class="anchored"><td class="def variant constructor"><a href="#type-binop.Lte" class="anchor"></a><code><span>| </span><span><span class="constructor">Lte</span> <span class="keyword">of</span> <a href="#type-op_kind">op_kind</a></span></code></td></tr><tr id="type-binop.Gt" class="anchored"><td class="def variant constructor"><a href="#type-binop.Gt" class="anchor"></a><code><span>| </span><span><span class="constructor">Gt</span> <span class="keyword">of</span> <a href="#type-op_kind">op_kind</a></span></code></td></tr><tr id="type-binop.Gte" class="anchored"><td class="def variant constructor"><a href="#type-binop.Gte" class="anchor"></a><code><span>| </span><span><span class="constructor">Gte</span> <span class="keyword">of</span> <a href="#type-op_kind">op_kind</a></span></code></td></tr><tr id="type-binop.Eq" class="anchored"><td class="def variant constructor"><a href="#type-binop.Eq" class="anchor"></a><code><span>| </span><span><span class="constructor">Eq</span></span></code></td></tr><tr id="type-binop.Neq" class="anchored"><td class="def variant constructor"><a href="#type-binop.Neq" class="anchor"></a><code><span>| </span><span><span class="constructor">Neq</span></span></code></td></tr><tr id="type-binop.Concat" class="anchored"><td class="def variant constructor"><a href="#type-binop.Concat" class="anchor"></a><code><span>| </span><span><span class="constructor">Concat</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-binop_map" class="anchored"><a href="#class-binop_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-binop_map/index.html">binop_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-binop_iter" class="anchored"><a href="#class-binop_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-binop_iter/index.html">binop_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-unop" class="anchored"><a href="#type-unop" class="anchor"></a><code><span><span class="keyword">type</span> unop</span><span> = </span></code><table><tr id="type-unop.Not" class="anchored"><td class="def variant constructor"><a href="#type-unop.Not" class="anchor"></a><code><span>| </span><span><span class="constructor">Not</span></span></code></td></tr><tr id="type-unop.Minus" class="anchored"><td class="def variant constructor"><a href="#type-unop.Minus" class="anchor"></a><code><span>| </span><span><span class="constructor">Minus</span> <span class="keyword">of</span> <a href="#type-op_kind">op_kind</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-unop_map" class="anchored"><a href="#class-unop_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-unop_map/index.html">unop_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-unop_iter" class="anchored"><a href="#class-unop_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-unop_iter/index.html">unop_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-builtin_expression" class="anchored"><a href="#type-builtin_expression" class="anchor"></a><code><span><span class="keyword">type</span> builtin_expression</span><span> = </span></code><table><tr id="type-builtin_expression.Cardinal" class="anchored"><td class="def variant constructor"><a href="#type-builtin_expression.Cardinal" class="anchor"></a><code><span>| </span><span><span class="constructor">Cardinal</span></span></code></td></tr><tr id="type-builtin_expression.ToDecimal" class="anchored"><td class="def variant constructor"><a href="#type-builtin_expression.ToDecimal" class="anchor"></a><code><span>| </span><span><span class="constructor">ToDecimal</span></span></code></td></tr><tr id="type-builtin_expression.ToMoney" class="anchored"><td class="def variant constructor"><a href="#type-builtin_expression.ToMoney" class="anchor"></a><code><span>| </span><span><span class="constructor">ToMoney</span></span></code></td></tr><tr id="type-builtin_expression.GetDay" class="anchored"><td class="def variant constructor"><a href="#type-builtin_expression.GetDay" class="anchor"></a><code><span>| </span><span><span class="constructor">GetDay</span></span></code></td></tr><tr id="type-builtin_expression.GetMonth" class="anchored"><td class="def variant constructor"><a href="#type-builtin_expression.GetMonth" class="anchor"></a><code><span>| </span><span><span class="constructor">GetMonth</span></span></code></td></tr><tr id="type-builtin_expression.GetYear" class="anchored"><td class="def variant constructor"><a href="#type-builtin_expression.GetYear" class="anchor"></a><code><span>| </span><span><span class="constructor">GetYear</span></span></code></td></tr><tr id="type-builtin_expression.LastDayOfMonth" class="anchored"><td class="def variant constructor"><a href="#type-builtin_expression.LastDayOfMonth" class="anchor"></a><code><span>| </span><span><span class="constructor">LastDayOfMonth</span></span></code></td></tr><tr id="type-builtin_expression.FirstDayOfMonth" class="anchored"><td class="def variant constructor"><a href="#type-builtin_expression.FirstDayOfMonth" class="anchor"></a><code><span>| </span><span><span class="constructor">FirstDayOfMonth</span></span></code></td></tr><tr id="type-builtin_expression.Round" class="anchored"><td class="def variant constructor"><a href="#type-builtin_expression.Round" class="anchor"></a><code><span>| </span><span><span class="constructor">Round</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-builtin_expression_map" class="anchored"><a href="#class-builtin_expression_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-builtin_expression_map/index.html">builtin_expression_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-builtin_expression_iter" class="anchored"><a href="#class-builtin_expression_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-builtin_expression_iter/index.html">builtin_expression_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-literal_date" class="anchored"><a href="#type-literal_date" class="anchor"></a><code><span><span class="keyword">type</span> literal_date</span><span> = </span><span>{</span></code><table><tr id="type-literal_date.literal_date_day" class="anchored"><td class="def record field"><a href="#type-literal_date.literal_date_day" class="anchor"></a><code><span>literal_date_day : int;</span></code></td></tr><tr id="type-literal_date.literal_date_month" class="anchored"><td class="def record field"><a href="#type-literal_date.literal_date_month" class="anchor"></a><code><span>literal_date_month : int;</span></code></td></tr><tr id="type-literal_date.literal_date_year" class="anchored"><td class="def record field"><a href="#type-literal_date.literal_date_year" class="anchor"></a><code><span>literal_date_year : int;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-literal_date_map" class="anchored"><a href="#class-literal_date_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-literal_date_map/index.html">literal_date_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-literal_date_iter" class="anchored"><a href="#class-literal_date_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-literal_date_iter/index.html">literal_date_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-literal_number" class="anchored"><a href="#type-literal_number" class="anchor"></a><code><span><span class="keyword">type</span> literal_number</span><span> = </span></code><table><tr id="type-literal_number.Int" class="anchored"><td class="def variant constructor"><a href="#type-literal_number.Int" class="anchor"></a><code><span>| </span><span><span class="constructor">Int</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-literal_number.Dec" class="anchored"><td class="def variant constructor"><a href="#type-literal_number.Dec" class="anchor"></a><code><span>| </span><span><span class="constructor">Dec</span> <span class="keyword">of</span> string * string</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-literal_number_map" class="anchored"><a href="#class-literal_number_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-literal_number_map/index.html">literal_number_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-literal_number_iter" class="anchored"><a href="#class-literal_number_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-literal_number_iter/index.html">literal_number_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-literal_unit" class="anchored"><a href="#type-literal_unit" class="anchor"></a><code><span><span class="keyword">type</span> literal_unit</span><span> = </span></code><table><tr id="type-literal_unit.Percent" class="anchored"><td class="def variant constructor"><a href="#type-literal_unit.Percent" class="anchor"></a><code><span>| </span><span><span class="constructor">Percent</span></span></code></td></tr><tr id="type-literal_unit.Year" class="anchored"><td class="def variant constructor"><a href="#type-literal_unit.Year" class="anchor"></a><code><span>| </span><span><span class="constructor">Year</span></span></code></td></tr><tr id="type-literal_unit.Month" class="anchored"><td class="def variant constructor"><a href="#type-literal_unit.Month" class="anchor"></a><code><span>| </span><span><span class="constructor">Month</span></span></code></td></tr><tr id="type-literal_unit.Day" class="anchored"><td class="def variant constructor"><a href="#type-literal_unit.Day" class="anchor"></a><code><span>| </span><span><span class="constructor">Day</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-literal_unit_map" class="anchored"><a href="#class-literal_unit_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-literal_unit_map/index.html">literal_unit_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-literal_unit_iter" class="anchored"><a href="#class-literal_unit_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-literal_unit_iter/index.html">literal_unit_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-money_amount" class="anchored"><a href="#type-money_amount" class="anchor"></a><code><span><span class="keyword">type</span> money_amount</span><span> = </span><span>{</span></code><table><tr id="type-money_amount.money_amount_units" class="anchored"><td class="def record field"><a href="#type-money_amount.money_amount_units" class="anchor"></a><code><span>money_amount_units : string;</span></code></td></tr><tr id="type-money_amount.money_amount_cents" class="anchored"><td class="def record field"><a href="#type-money_amount.money_amount_cents" class="anchor"></a><code><span>money_amount_cents : string;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-money_amount_map" class="anchored"><a href="#class-money_amount_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-money_amount_map/index.html">money_amount_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-money_amount_iter" class="anchored"><a href="#class-money_amount_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-money_amount_iter/index.html">money_amount_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-literal" class="anchored"><a href="#type-literal" class="anchor"></a><code><span><span class="keyword">type</span> literal</span><span> = </span></code><table><tr id="type-literal.LNumber" class="anchored"><td class="def variant constructor"><a href="#type-literal.LNumber" class="anchor"></a><code><span>| </span><span><span class="constructor">LNumber</span> <span class="keyword">of</span> <span><a href="#type-literal_number">literal_number</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
  * <span><span><a href="#type-literal_unit">literal_unit</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> option</span></span></code></td></tr><tr id="type-literal.LBool" class="anchored"><td class="def variant constructor"><a href="#type-literal.LBool" class="anchor"></a><code><span>| </span><span><span class="constructor">LBool</span> <span class="keyword">of</span> bool</span></code></td></tr><tr id="type-literal.LMoneyAmount" class="anchored"><td class="def variant constructor"><a href="#type-literal.LMoneyAmount" class="anchor"></a><code><span>| </span><span><span class="constructor">LMoneyAmount</span> <span class="keyword">of</span> <a href="#type-money_amount">money_amount</a></span></code></td></tr><tr id="type-literal.LDate" class="anchored"><td class="def variant constructor"><a href="#type-literal.LDate" class="anchor"></a><code><span>| </span><span><span class="constructor">LDate</span> <span class="keyword">of</span> <a href="#type-literal_date">literal_date</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-literal_map" class="anchored"><a href="#class-literal_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-literal_map/index.html">literal_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-literal_iter" class="anchored"><a href="#class-literal_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-literal_iter/index.html">literal_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-collection_op" class="anchored"><a href="#type-collection_op" class="anchor"></a><code><span><span class="keyword">type</span> collection_op</span><span> = </span></code><table><tr id="type-collection_op.Exists" class="anchored"><td class="def variant constructor"><a href="#type-collection_op.Exists" class="anchor"></a><code><span>| </span><span><span class="constructor">Exists</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-collection_op.predicate" class="anchored"><td class="def record field"><a href="#type-collection_op.predicate" class="anchor"></a><code><span>predicate : <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-collection_op.Forall" class="anchored"><td class="def variant constructor"><a href="#type-collection_op.Forall" class="anchor"></a><code><span>| </span><span><span class="constructor">Forall</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-collection_op.predicate" class="anchored"><td class="def record field"><a href="#type-collection_op.predicate" class="anchor"></a><code><span>predicate : <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-collection_op.Map" class="anchored"><td class="def variant constructor"><a href="#type-collection_op.Map" class="anchor"></a><code><span>| </span><span><span class="constructor">Map</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-collection_op.f" class="anchored"><td class="def record field"><a href="#type-collection_op.f" class="anchor"></a><code><span>f : <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-collection_op.Filter" class="anchored"><td class="def variant constructor"><a href="#type-collection_op.Filter" class="anchor"></a><code><span>| </span><span><span class="constructor">Filter</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-collection_op.f" class="anchored"><td class="def record field"><a href="#type-collection_op.f" class="anchor"></a><code><span>f : <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-collection_op.AggregateSum" class="anchored"><td class="def variant constructor"><a href="#type-collection_op.AggregateSum" class="anchor"></a><code><span>| </span><span><span class="constructor">AggregateSum</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-collection_op.typ" class="anchored"><td class="def record field"><a href="#type-collection_op.typ" class="anchor"></a><code><span>typ : <a href="#type-primitive_typ">primitive_typ</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-collection_op.AggregateExtremum" class="anchored"><td class="def variant constructor"><a href="#type-collection_op.AggregateExtremum" class="anchor"></a><code><span>| </span><span><span class="constructor">AggregateExtremum</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-collection_op.max" class="anchored"><td class="def record field"><a href="#type-collection_op.max" class="anchor"></a><code><span>max : bool;</span></code></td></tr><tr id="type-collection_op.default" class="anchored"><td class="def record field"><a href="#type-collection_op.default" class="anchor"></a><code><span>default : <a href="#type-expression">expression</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-collection_op.AggregateArgExtremum" class="anchored"><td class="def variant constructor"><a href="#type-collection_op.AggregateArgExtremum" class="anchor"></a><code><span>| </span><span><span class="constructor">AggregateArgExtremum</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-collection_op.max" class="anchored"><td class="def record field"><a href="#type-collection_op.max" class="anchor"></a><code><span>max : bool;</span></code></td></tr><tr id="type-collection_op.default" class="anchored"><td class="def record field"><a href="#type-collection_op.default" class="anchor"></a><code><span>default : <a href="#type-expression">expression</a>;</span></code></td></tr><tr id="type-collection_op.f" class="anchored"><td class="def record field"><a href="#type-collection_op.f" class="anchor"></a><code><span>f : <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-explicit_match_case" class="anchored"><a href="#type-explicit_match_case" class="anchor"></a><code><span><span class="keyword">and</span> explicit_match_case</span><span> = </span><span>{</span></code><table><tr id="type-explicit_match_case.match_case_pattern" class="anchored"><td class="def record field"><a href="#type-explicit_match_case.match_case_pattern" class="anchor"></a><code><span>match_case_pattern : <span><a href="#type-match_case_pattern">match_case_pattern</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-explicit_match_case.match_case_expr" class="anchored"><td class="def record field"><a href="#type-explicit_match_case.match_case_expr" class="anchor"></a><code><span>match_case_expr : <a href="#type-expression">expression</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-match_case" class="anchored"><a href="#type-match_case" class="anchor"></a><code><span><span class="keyword">and</span> match_case</span><span> = </span></code><table><tr id="type-match_case.WildCard" class="anchored"><td class="def variant constructor"><a href="#type-match_case.WildCard" class="anchor"></a><code><span>| </span><span><span class="constructor">WildCard</span> <span class="keyword">of</span> <a href="#type-expression">expression</a></span></code></td></tr><tr id="type-match_case.MatchCase" class="anchored"><td class="def variant constructor"><a href="#type-match_case.MatchCase" class="anchor"></a><code><span>| </span><span><span class="constructor">MatchCase</span> <span class="keyword">of</span> <a href="#type-explicit_match_case">explicit_match_case</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-match_cases" class="anchored"><a href="#type-match_cases" class="anchor"></a><code><span><span class="keyword">and</span> match_cases</span><span> = <span><span><a href="#type-match_case">match_case</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-expression" class="anchored"><a href="#type-expression" class="anchor"></a><code><span><span class="keyword">and</span> expression</span><span> = <span><a href="#type-naked_expression">naked_expression</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-naked_expression" class="anchored"><a href="#type-naked_expression" class="anchor"></a><code><span><span class="keyword">and</span> naked_expression</span><span> = </span></code><table><tr id="type-naked_expression.Paren" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.Paren" class="anchor"></a><code><span>| </span><span><span class="constructor">Paren</span> <span class="keyword">of</span> <a href="#type-expression">expression</a></span></code></td></tr><tr id="type-naked_expression.MatchWith" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.MatchWith" class="anchor"></a><code><span>| </span><span><span class="constructor">MatchWith</span> <span class="keyword">of</span> <a href="#type-expression">expression</a> * <span><a href="#type-match_cases">match_cases</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr><tr id="type-naked_expression.IfThenElse" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.IfThenElse" class="anchor"></a><code><span>| </span><span><span class="constructor">IfThenElse</span> <span class="keyword">of</span> <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a></span></code></td></tr><tr id="type-naked_expression.Binop" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.Binop" class="anchor"></a><code><span>| </span><span><span class="constructor">Binop</span> <span class="keyword">of</span> <span><a href="#type-binop">binop</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a></span></code></td></tr><tr id="type-naked_expression.Unop" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.Unop" class="anchor"></a><code><span>| </span><span><span class="constructor">Unop</span> <span class="keyword">of</span> <span><a href="#type-unop">unop</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a></span></code></td></tr><tr id="type-naked_expression.CollectionOp" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.CollectionOp" class="anchor"></a><code><span>| </span><span><span class="constructor">CollectionOp</span> <span class="keyword">of</span> <a href="#type-collection_op">collection_op</a> * <a href="#type-expression">expression</a></span></code></td></tr><tr id="type-naked_expression.MemCollection" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.MemCollection" class="anchor"></a><code><span>| </span><span><span class="constructor">MemCollection</span> <span class="keyword">of</span> <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a></span></code></td></tr><tr id="type-naked_expression.TestMatchCase" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.TestMatchCase" class="anchor"></a><code><span>| </span><span><span class="constructor">TestMatchCase</span> <span class="keyword">of</span> <a href="#type-expression">expression</a> * <span><a href="#type-match_case_pattern">match_case_pattern</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr><tr id="type-naked_expression.FunCall" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.FunCall" class="anchor"></a><code><span>| </span><span><span class="constructor">FunCall</span> <span class="keyword">of</span> <a href="#type-expression">expression</a> * <span><a href="#type-expression">expression</a> list</span></span></code></td></tr><tr id="type-naked_expression.ScopeCall" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.ScopeCall" class="anchor"></a><code><span>| </span><span><span class="constructor">ScopeCall</span> <span class="keyword">of</span> <span><span>(<a href="#type-path">path</a> * <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>)</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
  * <span><span>(<span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a>)</span> list</span></span></code></td></tr><tr id="type-naked_expression.LetIn" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.LetIn" class="anchor"></a><code><span>| </span><span><span class="constructor">LetIn</span> <span class="keyword">of</span> <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a></span></code></td></tr><tr id="type-naked_expression.Builtin" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.Builtin" class="anchor"></a><code><span>| </span><span><span class="constructor">Builtin</span> <span class="keyword">of</span> <a href="#type-builtin_expression">builtin_expression</a></span></code></td></tr><tr id="type-naked_expression.Literal" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.Literal" class="anchor"></a><code><span>| </span><span><span class="constructor">Literal</span> <span class="keyword">of</span> <a href="#type-literal">literal</a></span></code></td></tr><tr id="type-naked_expression.EnumInject" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.EnumInject" class="anchor"></a><code><span>| </span><span><span class="constructor">EnumInject</span> <span class="keyword">of</span> <span><span>(<a href="#type-path">path</a> * <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>)</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
  * <span><a href="#type-expression">expression</a> option</span></span></code></td></tr><tr id="type-naked_expression.StructLit" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.StructLit" class="anchor"></a><code><span>| </span><span><span class="constructor">StructLit</span> <span class="keyword">of</span> <span><span>(<a href="#type-path">path</a> * <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>)</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
  * <span><span>(<span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-expression">expression</a>)</span> list</span></span></code></td></tr><tr id="type-naked_expression.ArrayLit" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.ArrayLit" class="anchor"></a><code><span>| </span><span><span class="constructor">ArrayLit</span> <span class="keyword">of</span> <span><a href="#type-expression">expression</a> list</span></span></code></td></tr><tr id="type-naked_expression.Ident" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.Ident" class="anchor"></a><code><span>| </span><span><span class="constructor">Ident</span> <span class="keyword">of</span> <a href="#type-path">path</a> * <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr><tr id="type-naked_expression.Dotted" class="anchored"><td class="def variant constructor"><a href="#type-naked_expression.Dotted" class="anchor"></a><code><span>| </span><span><span class="constructor">Dotted</span> <span class="keyword">of</span> <a href="#type-expression">expression</a>
  * <span><span>(<a href="#type-path">path</a> * <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>)</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Dotted is for both struct field projection and sub-scope variables</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-expression_map" class="anchored"><a href="#class-expression_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-expression_map/index.html">expression_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-expression_iter" class="anchored"><a href="#class-expression_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-expression_iter/index.html">expression_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-exception_to" class="anchored"><a href="#type-exception_to" class="anchor"></a><code><span><span class="keyword">type</span> exception_to</span><span> = </span></code><table><tr id="type-exception_to.NotAnException" class="anchored"><td class="def variant constructor"><a href="#type-exception_to.NotAnException" class="anchor"></a><code><span>| </span><span><span class="constructor">NotAnException</span></span></code></td></tr><tr id="type-exception_to.UnlabeledException" class="anchored"><td class="def variant constructor"><a href="#type-exception_to.UnlabeledException" class="anchor"></a><code><span>| </span><span><span class="constructor">UnlabeledException</span></span></code></td></tr><tr id="type-exception_to.ExceptionToLabel" class="anchored"><td class="def variant constructor"><a href="#type-exception_to.ExceptionToLabel" class="anchor"></a><code><span>| </span><span><span class="constructor">ExceptionToLabel</span> <span class="keyword">of</span> <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-exception_to_map" class="anchored"><a href="#class-exception_to_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-exception_to_map/index.html">exception_to_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-exception_to_iter" class="anchored"><a href="#class-exception_to_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-exception_to_iter/index.html">exception_to_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-rule" class="anchored"><a href="#type-rule" class="anchor"></a><code><span><span class="keyword">type</span> rule</span><span> = </span><span>{</span></code><table><tr id="type-rule.rule_label" class="anchored"><td class="def record field"><a href="#type-rule.rule_label" class="anchor"></a><code><span>rule_label : <span><span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> option</span>;</span></code></td></tr><tr id="type-rule.rule_exception_to" class="anchored"><td class="def record field"><a href="#type-rule.rule_exception_to" class="anchor"></a><code><span>rule_exception_to : <a href="#type-exception_to">exception_to</a>;</span></code></td></tr><tr id="type-rule.rule_parameter" class="anchored"><td class="def record field"><a href="#type-rule.rule_parameter" class="anchor"></a><code><span>rule_parameter : <span><span><span><span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
                   option</span>;</span></code></td></tr><tr id="type-rule.rule_condition" class="anchored"><td class="def record field"><a href="#type-rule.rule_condition" class="anchor"></a><code><span>rule_condition : <span><a href="#type-expression">expression</a> option</span>;</span></code></td></tr><tr id="type-rule.rule_name" class="anchored"><td class="def record field"><a href="#type-rule.rule_name" class="anchor"></a><code><span>rule_name : <span><a href="#type-scope_var">scope_var</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-rule.rule_id" class="anchored"><td class="def record field"><a href="#type-rule.rule_id" class="anchor"></a><code><span>rule_id : <a href="../../Shared_ast/RuleName/index.html#type-t">Shared_ast.RuleName.t</a>;</span></code></td></tr><tr id="type-rule.rule_consequence" class="anchored"><td class="def record field"><a href="#type-rule.rule_consequence" class="anchor"></a><code><span>rule_consequence : <span>bool <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-rule.rule_state" class="anchored"><td class="def record field"><a href="#type-rule.rule_state" class="anchor"></a><code><span>rule_state : <span><span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-rule_map" class="anchored"><a href="#class-rule_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-rule_map/index.html">rule_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-rule_iter" class="anchored"><a href="#class-rule_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-rule_iter/index.html">rule_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-definition" class="anchored"><a href="#type-definition" class="anchor"></a><code><span><span class="keyword">type</span> definition</span><span> = </span><span>{</span></code><table><tr id="type-definition.definition_label" class="anchored"><td class="def record field"><a href="#type-definition.definition_label" class="anchor"></a><code><span>definition_label : <span><span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> option</span>;</span></code></td></tr><tr id="type-definition.definition_exception_to" class="anchored"><td class="def record field"><a href="#type-definition.definition_exception_to" class="anchor"></a><code><span>definition_exception_to : <a href="#type-exception_to">exception_to</a>;</span></code></td></tr><tr id="type-definition.definition_name" class="anchored"><td class="def record field"><a href="#type-definition.definition_name" class="anchor"></a><code><span>definition_name : <span><a href="#type-scope_var">scope_var</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-definition.definition_parameter" class="anchored"><td class="def record field"><a href="#type-definition.definition_parameter" class="anchor"></a><code><span>definition_parameter : <span><span><span><span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span>
                         <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
                         option</span>;</span></code></td></tr><tr id="type-definition.definition_condition" class="anchored"><td class="def record field"><a href="#type-definition.definition_condition" class="anchor"></a><code><span>definition_condition : <span><a href="#type-expression">expression</a> option</span>;</span></code></td></tr><tr id="type-definition.definition_id" class="anchored"><td class="def record field"><a href="#type-definition.definition_id" class="anchor"></a><code><span>definition_id : <a href="../../Shared_ast/RuleName/index.html#type-t">Shared_ast.RuleName.t</a>;</span></code></td></tr><tr id="type-definition.definition_expr" class="anchored"><td class="def record field"><a href="#type-definition.definition_expr" class="anchor"></a><code><span>definition_expr : <a href="#type-expression">expression</a>;</span></code></td></tr><tr id="type-definition.definition_state" class="anchored"><td class="def record field"><a href="#type-definition.definition_state" class="anchor"></a><code><span>definition_state : <span><span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-definition_map" class="anchored"><a href="#class-definition_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-definition_map/index.html">definition_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-definition_iter" class="anchored"><a href="#class-definition_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-definition_iter/index.html">definition_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-variation_typ" class="anchored"><a href="#type-variation_typ" class="anchor"></a><code><span><span class="keyword">type</span> variation_typ</span><span> = </span></code><table><tr id="type-variation_typ.Increasing" class="anchored"><td class="def variant constructor"><a href="#type-variation_typ.Increasing" class="anchor"></a><code><span>| </span><span><span class="constructor">Increasing</span></span></code></td></tr><tr id="type-variation_typ.Decreasing" class="anchored"><td class="def variant constructor"><a href="#type-variation_typ.Decreasing" class="anchor"></a><code><span>| </span><span><span class="constructor">Decreasing</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-variation_typ_map" class="anchored"><a href="#class-variation_typ_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-variation_typ_map/index.html">variation_typ_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-variation_typ_iter" class="anchored"><a href="#class-variation_typ_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-variation_typ_iter/index.html">variation_typ_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-meta_assertion" class="anchored"><a href="#type-meta_assertion" class="anchor"></a><code><span><span class="keyword">type</span> meta_assertion</span><span> = </span></code><table><tr id="type-meta_assertion.FixedBy" class="anchored"><td class="def variant constructor"><a href="#type-meta_assertion.FixedBy" class="anchor"></a><code><span>| </span><span><span class="constructor">FixedBy</span> <span class="keyword">of</span> <span><a href="#type-scope_var">scope_var</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr><tr id="type-meta_assertion.VariesWith" class="anchored"><td class="def variant constructor"><a href="#type-meta_assertion.VariesWith" class="anchor"></a><code><span>| </span><span><span class="constructor">VariesWith</span> <span class="keyword">of</span> <span><a href="#type-scope_var">scope_var</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
  * <a href="#type-expression">expression</a>
  * <span><span><a href="#type-variation_typ">variation_typ</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> option</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-meta_assertion_map" class="anchored"><a href="#class-meta_assertion_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-meta_assertion_map/index.html">meta_assertion_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-meta_assertion_iter" class="anchored"><a href="#class-meta_assertion_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-meta_assertion_iter/index.html">meta_assertion_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-assertion" class="anchored"><a href="#type-assertion" class="anchor"></a><code><span><span class="keyword">type</span> assertion</span><span> = </span><span>{</span></code><table><tr id="type-assertion.assertion_condition" class="anchored"><td class="def record field"><a href="#type-assertion.assertion_condition" class="anchor"></a><code><span>assertion_condition : <span><a href="#type-expression">expression</a> option</span>;</span></code></td></tr><tr id="type-assertion.assertion_content" class="anchored"><td class="def record field"><a href="#type-assertion.assertion_content" class="anchor"></a><code><span>assertion_content : <a href="#type-expression">expression</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-assertion_map" class="anchored"><a href="#class-assertion_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-assertion_map/index.html">assertion_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-assertion_iter" class="anchored"><a href="#class-assertion_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-assertion_iter/index.html">assertion_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-scope_use_item" class="anchored"><a href="#type-scope_use_item" class="anchor"></a><code><span><span class="keyword">type</span> scope_use_item</span><span> = </span></code><table><tr id="type-scope_use_item.Rule" class="anchored"><td class="def variant constructor"><a href="#type-scope_use_item.Rule" class="anchor"></a><code><span>| </span><span><span class="constructor">Rule</span> <span class="keyword">of</span> <a href="#type-rule">rule</a></span></code></td></tr><tr id="type-scope_use_item.Definition" class="anchored"><td class="def variant constructor"><a href="#type-scope_use_item.Definition" class="anchor"></a><code><span>| </span><span><span class="constructor">Definition</span> <span class="keyword">of</span> <a href="#type-definition">definition</a></span></code></td></tr><tr id="type-scope_use_item.Assertion" class="anchored"><td class="def variant constructor"><a href="#type-scope_use_item.Assertion" class="anchor"></a><code><span>| </span><span><span class="constructor">Assertion</span> <span class="keyword">of</span> <a href="#type-assertion">assertion</a></span></code></td></tr><tr id="type-scope_use_item.MetaAssertion" class="anchored"><td class="def variant constructor"><a href="#type-scope_use_item.MetaAssertion" class="anchor"></a><code><span>| </span><span><span class="constructor">MetaAssertion</span> <span class="keyword">of</span> <a href="#type-meta_assertion">meta_assertion</a></span></code></td></tr><tr id="type-scope_use_item.DateRounding" class="anchored"><td class="def variant constructor"><a href="#type-scope_use_item.DateRounding" class="anchor"></a><code><span>| </span><span><span class="constructor">DateRounding</span> <span class="keyword">of</span> <span><a href="#type-variation_typ">variation_typ</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_use_item_map" class="anchored"><a href="#class-scope_use_item_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_use_item_map/index.html">scope_use_item_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_use_item_iter" class="anchored"><a href="#class-scope_use_item_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_use_item_iter/index.html">scope_use_item_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-scope_use" class="anchored"><a href="#type-scope_use" class="anchor"></a><code><span><span class="keyword">type</span> scope_use</span><span> = </span><span>{</span></code><table><tr id="type-scope_use.scope_use_condition" class="anchored"><td class="def record field"><a href="#type-scope_use.scope_use_condition" class="anchor"></a><code><span>scope_use_condition : <span><a href="#type-expression">expression</a> option</span>;</span></code></td></tr><tr id="type-scope_use.scope_use_name" class="anchored"><td class="def record field"><a href="#type-scope_use.scope_use_name" class="anchor"></a><code><span>scope_use_name : <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-scope_use.scope_use_items" class="anchored"><td class="def record field"><a href="#type-scope_use.scope_use_items" class="anchor"></a><code><span>scope_use_items : <span><span><a href="#type-scope_use_item">scope_use_item</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_use_map" class="anchored"><a href="#class-scope_use_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_use_map/index.html">scope_use_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_use_iter" class="anchored"><a href="#class-scope_use_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_use_iter/index.html">scope_use_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-io_input" class="anchored"><a href="#type-io_input" class="anchor"></a><code><span><span class="keyword">type</span> io_input</span><span> = </span></code><table><tr id="type-io_input.Input" class="anchored"><td class="def variant constructor"><a href="#type-io_input.Input" class="anchor"></a><code><span>| </span><span><span class="constructor">Input</span></span></code></td></tr><tr id="type-io_input.Context" class="anchored"><td class="def variant constructor"><a href="#type-io_input.Context" class="anchor"></a><code><span>| </span><span><span class="constructor">Context</span></span></code></td></tr><tr id="type-io_input.Internal" class="anchored"><td class="def variant constructor"><a href="#type-io_input.Internal" class="anchor"></a><code><span>| </span><span><span class="constructor">Internal</span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-io_input_map" class="anchored"><a href="#class-io_input_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-io_input_map/index.html">io_input_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-io_input_iter" class="anchored"><a href="#class-io_input_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'a </span><span><a href="class-io_input_iter/index.html">io_input_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-scope_decl_context_io" class="anchored"><a href="#type-scope_decl_context_io" class="anchor"></a><code><span><span class="keyword">type</span> scope_decl_context_io</span><span> = </span><span>{</span></code><table><tr id="type-scope_decl_context_io.scope_decl_context_io_input" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_io.scope_decl_context_io_input" class="anchor"></a><code><span>scope_decl_context_io_input : <span><a href="#type-io_input">io_input</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-scope_decl_context_io.scope_decl_context_io_output" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_io.scope_decl_context_io_output" class="anchor"></a><code><span>scope_decl_context_io_output : <span>bool <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_context_io_map" class="anchored"><a href="#class-scope_decl_context_io_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_context_io_map/index.html">scope_decl_context_io_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_context_io_iter" class="anchored"><a href="#class-scope_decl_context_io_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_context_io_iter/index.html">scope_decl_context_io_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-scope_decl_context_scope" class="anchored"><a href="#type-scope_decl_context_scope" class="anchor"></a><code><span><span class="keyword">type</span> scope_decl_context_scope</span><span> = </span><span>{</span></code><table><tr id="type-scope_decl_context_scope.scope_decl_context_scope_name" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_scope.scope_decl_context_scope_name" class="anchor"></a><code><span>scope_decl_context_scope_name : <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-scope_decl_context_scope.scope_decl_context_scope_sub_scope" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_scope.scope_decl_context_scope_sub_scope" class="anchor"></a><code><span>scope_decl_context_scope_sub_scope : <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-scope_decl_context_scope.scope_decl_context_scope_attribute" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_scope.scope_decl_context_scope_attribute" class="anchor"></a><code><span>scope_decl_context_scope_attribute : <a href="#type-scope_decl_context_io">scope_decl_context_io</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_context_scope_map" class="anchored"><a href="#class-scope_decl_context_scope_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_context_scope_map/index.html">scope_decl_context_scope_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_context_scope_iter" class="anchored"><a href="#class-scope_decl_context_scope_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_context_scope_iter/index.html">scope_decl_context_scope_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-scope_decl_context_data" class="anchored"><a href="#type-scope_decl_context_data" class="anchor"></a><code><span><span class="keyword">type</span> scope_decl_context_data</span><span> = </span><span>{</span></code><table><tr id="type-scope_decl_context_data.scope_decl_context_item_name" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_data.scope_decl_context_item_name" class="anchor"></a><code><span>scope_decl_context_item_name : <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-scope_decl_context_data.scope_decl_context_item_typ" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_data.scope_decl_context_item_typ" class="anchor"></a><code><span>scope_decl_context_item_typ : <a href="#type-typ">typ</a>;</span></code></td></tr><tr id="type-scope_decl_context_data.scope_decl_context_item_parameters" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_data.scope_decl_context_item_parameters" class="anchor"></a><code><span>scope_decl_context_item_parameters : <span><span><span><span>(<span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <a href="#type-typ">typ</a>)</span>
                                       list</span>
                                       <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
                                       option</span>;</span></code></td></tr><tr id="type-scope_decl_context_data.scope_decl_context_item_attribute" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_data.scope_decl_context_item_attribute" class="anchor"></a><code><span>scope_decl_context_item_attribute : <a href="#type-scope_decl_context_io">scope_decl_context_io</a>;</span></code></td></tr><tr id="type-scope_decl_context_data.scope_decl_context_item_states" class="anchored"><td class="def record field"><a href="#type-scope_decl_context_data.scope_decl_context_item_states" class="anchor"></a><code><span>scope_decl_context_item_states : <span><span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_context_data_map" class="anchored"><a href="#class-scope_decl_context_data_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_context_data_map/index.html">scope_decl_context_data_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_context_data_iter" class="anchored"><a href="#class-scope_decl_context_data_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_context_data_iter/index.html">scope_decl_context_data_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-scope_decl_context_item" class="anchored"><a href="#type-scope_decl_context_item" class="anchor"></a><code><span><span class="keyword">type</span> scope_decl_context_item</span><span> = </span></code><table><tr id="type-scope_decl_context_item.ContextData" class="anchored"><td class="def variant constructor"><a href="#type-scope_decl_context_item.ContextData" class="anchor"></a><code><span>| </span><span><span class="constructor">ContextData</span> <span class="keyword">of</span> <a href="#type-scope_decl_context_data">scope_decl_context_data</a></span></code></td></tr><tr id="type-scope_decl_context_item.ContextScope" class="anchored"><td class="def variant constructor"><a href="#type-scope_decl_context_item.ContextScope" class="anchor"></a><code><span>| </span><span><span class="constructor">ContextScope</span> <span class="keyword">of</span> <a href="#type-scope_decl_context_scope">scope_decl_context_scope</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_context_item_map" class="anchored"><a href="#class-scope_decl_context_item_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_context_item_map/index.html">scope_decl_context_item_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_context_item_iter" class="anchored"><a href="#class-scope_decl_context_item_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_context_item_iter/index.html">scope_decl_context_item_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-scope_decl" class="anchored"><a href="#type-scope_decl" class="anchor"></a><code><span><span class="keyword">type</span> scope_decl</span><span> = </span><span>{</span></code><table><tr id="type-scope_decl.scope_decl_name" class="anchored"><td class="def record field"><a href="#type-scope_decl.scope_decl_name" class="anchor"></a><code><span>scope_decl_name : <span><a href="#type-uident">uident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-scope_decl.scope_decl_context" class="anchored"><td class="def record field"><a href="#type-scope_decl.scope_decl_context" class="anchor"></a><code><span>scope_decl_context : <span><span><a href="#type-scope_decl_context_item">scope_decl_context_item</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_map" class="anchored"><a href="#class-scope_decl_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_map/index.html">scope_decl_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-scope_decl_iter" class="anchored"><a href="#class-scope_decl_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-scope_decl_iter/index.html">scope_decl_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-top_def" class="anchored"><a href="#type-top_def" class="anchor"></a><code><span><span class="keyword">type</span> top_def</span><span> = </span><span>{</span></code><table><tr id="type-top_def.topdef_name" class="anchored"><td class="def record field"><a href="#type-top_def.topdef_name" class="anchor"></a><code><span>topdef_name : <span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-top_def.topdef_args" class="anchored"><td class="def record field"><a href="#type-top_def.topdef_args" class="anchor"></a><code><span>topdef_args : <span><span><span><span>(<span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
               * <span><a href="#type-base_typ">base_typ</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>)</span>
                list</span>
                <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
                option</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Empty list if this is not a function</p><span class="comment-delim">*)</span></td></tr><tr id="type-top_def.topdef_type" class="anchored"><td class="def record field"><a href="#type-top_def.topdef_type" class="anchor"></a><code><span>topdef_type : <a href="#type-typ">typ</a>;</span></code></td></tr><tr id="type-top_def.topdef_expr" class="anchored"><td class="def record field"><a href="#type-top_def.topdef_expr" class="anchor"></a><code><span>topdef_expr : <a href="#type-expression">expression</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-top_def_map" class="anchored"><a href="#class-top_def_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-top_def_map/index.html">top_def_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-top_def_iter" class="anchored"><a href="#class-top_def_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-top_def_iter/index.html">top_def_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-code_item" class="anchored"><a href="#type-code_item" class="anchor"></a><code><span><span class="keyword">type</span> code_item</span><span> = </span></code><table><tr id="type-code_item.ScopeUse" class="anchored"><td class="def variant constructor"><a href="#type-code_item.ScopeUse" class="anchor"></a><code><span>| </span><span><span class="constructor">ScopeUse</span> <span class="keyword">of</span> <a href="#type-scope_use">scope_use</a></span></code></td></tr><tr id="type-code_item.ScopeDecl" class="anchored"><td class="def variant constructor"><a href="#type-code_item.ScopeDecl" class="anchor"></a><code><span>| </span><span><span class="constructor">ScopeDecl</span> <span class="keyword">of</span> <a href="#type-scope_decl">scope_decl</a></span></code></td></tr><tr id="type-code_item.StructDecl" class="anchored"><td class="def variant constructor"><a href="#type-code_item.StructDecl" class="anchor"></a><code><span>| </span><span><span class="constructor">StructDecl</span> <span class="keyword">of</span> <a href="#type-struct_decl">struct_decl</a></span></code></td></tr><tr id="type-code_item.EnumDecl" class="anchored"><td class="def variant constructor"><a href="#type-code_item.EnumDecl" class="anchor"></a><code><span>| </span><span><span class="constructor">EnumDecl</span> <span class="keyword">of</span> <a href="#type-enum_decl">enum_decl</a></span></code></td></tr><tr id="type-code_item.Topdef" class="anchored"><td class="def variant constructor"><a href="#type-code_item.Topdef" class="anchor"></a><code><span>| </span><span><span class="constructor">Topdef</span> <span class="keyword">of</span> <a href="#type-top_def">top_def</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-code_item_map" class="anchored"><a href="#class-code_item_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-code_item_map/index.html">code_item_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-code_item_iter" class="anchored"><a href="#class-code_item_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-code_item_iter/index.html">code_item_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-code_block" class="anchored"><a href="#type-code_block" class="anchor"></a><code><span><span class="keyword">type</span> code_block</span><span> = <span><span><a href="#type-code_item">code_item</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-code_block_map" class="anchored"><a href="#class-code_block_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-code_block_map/index.html">code_block_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-code_block_iter" class="anchored"><a href="#class-code_block_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-code_block_iter/index.html">code_block_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-source_repr" class="anchored"><a href="#type-source_repr" class="anchor"></a><code><span><span class="keyword">type</span> source_repr</span><span> = <span>string <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-source_repr_map" class="anchored"><a href="#class-source_repr_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-source_repr_map/index.html">source_repr_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-source_repr_iter" class="anchored"><a href="#class-source_repr_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-source_repr_iter/index.html">source_repr_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-law_heading" class="anchored"><a href="#type-law_heading" class="anchor"></a><code><span><span class="keyword">type</span> law_heading</span><span> = </span><span>{</span></code><table><tr id="type-law_heading.law_heading_name" class="anchored"><td class="def record field"><a href="#type-law_heading.law_heading_name" class="anchor"></a><code><span>law_heading_name : <span>string <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>;</span></code></td></tr><tr id="type-law_heading.law_heading_id" class="anchored"><td class="def record field"><a href="#type-law_heading.law_heading_id" class="anchor"></a><code><span>law_heading_id : <span>string option</span>;</span></code></td></tr><tr id="type-law_heading.law_heading_is_archive" class="anchored"><td class="def record field"><a href="#type-law_heading.law_heading_is_archive" class="anchor"></a><code><span>law_heading_is_archive : bool;</span></code></td></tr><tr id="type-law_heading.law_heading_precedence" class="anchored"><td class="def record field"><a href="#type-law_heading.law_heading_precedence" class="anchor"></a><code><span>law_heading_precedence : int;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-law_heading_map" class="anchored"><a href="#class-law_heading_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-law_heading_map/index.html">law_heading_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-law_heading_iter" class="anchored"><a href="#class-law_heading_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-law_heading_iter/index.html">law_heading_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-law_include" class="anchored"><a href="#type-law_include" class="anchor"></a><code><span><span class="keyword">type</span> law_include</span><span> = </span></code><table><tr id="type-law_include.PdfFile" class="anchored"><td class="def variant constructor"><a href="#type-law_include.PdfFile" class="anchor"></a><code><span>| </span><span><span class="constructor">PdfFile</span> <span class="keyword">of</span> <span>string <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <span>int option</span></span></code></td></tr><tr id="type-law_include.CatalaFile" class="anchored"><td class="def variant constructor"><a href="#type-law_include.CatalaFile" class="anchor"></a><code><span>| </span><span><span class="constructor">CatalaFile</span> <span class="keyword">of</span> <span>string <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr><tr id="type-law_include.LegislativeText" class="anchored"><td class="def variant constructor"><a href="#type-law_include.LegislativeText" class="anchor"></a><code><span>| </span><span><span class="constructor">LegislativeText</span> <span class="keyword">of</span> <span>string <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-law_include_map" class="anchored"><a href="#class-law_include_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-law_include_map/index.html">law_include_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-law_include_iter" class="anchored"><a href="#class-law_include_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-law_include_iter/index.html">law_include_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-law_structure" class="anchored"><a href="#type-law_structure" class="anchor"></a><code><span><span class="keyword">type</span> law_structure</span><span> = </span></code><table><tr id="type-law_structure.LawInclude" class="anchored"><td class="def variant constructor"><a href="#type-law_structure.LawInclude" class="anchor"></a><code><span>| </span><span><span class="constructor">LawInclude</span> <span class="keyword">of</span> <a href="#type-law_include">law_include</a></span></code></td></tr><tr id="type-law_structure.LawHeading" class="anchored"><td class="def variant constructor"><a href="#type-law_structure.LawHeading" class="anchor"></a><code><span>| </span><span><span class="constructor">LawHeading</span> <span class="keyword">of</span> <a href="#type-law_heading">law_heading</a> * <span><a href="#type-law_structure">law_structure</a> list</span></span></code></td></tr><tr id="type-law_structure.LawText" class="anchored"><td class="def variant constructor"><a href="#type-law_structure.LawText" class="anchor"></a><code><span>| </span><span><span class="constructor">LawText</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-law_structure.CodeBlock" class="anchored"><td class="def variant constructor"><a href="#type-law_structure.CodeBlock" class="anchor"></a><code><span>| </span><span><span class="constructor">CodeBlock</span> <span class="keyword">of</span> <a href="#type-code_block">code_block</a> * <a href="#type-source_repr">source_repr</a> * bool</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec class" id="class-law_structure_map" class="anchored"><a href="#class-law_structure_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-law_structure_map/index.html">law_structure_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-law_structure_iter" class="anchored"><a href="#class-law_structure_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-law_structure_iter/index.html">law_structure_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-program" class="anchored"><a href="#type-program" class="anchor"></a><code><span><span class="keyword">type</span> program</span><span> = </span><span>{</span></code><table><tr id="type-program.program_items" class="anchored"><td class="def record field"><a href="#type-program.program_items" class="anchor"></a><code><span>program_items : <span><a href="#type-law_structure">law_structure</a> list</span>;</span></code></td></tr><tr id="type-program.program_source_files" class="anchored"><td class="def record field"><a href="#type-program.program_source_files" class="anchor"></a><code><span>program_source_files : <span>string list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-program_map" class="anchored"><a href="#class-program_map" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-program_map/index.html">program_map</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec class" id="class-program_iter" class="anchored"><a href="#class-program_iter" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">virtual</span> +'b </span><span><a href="class-program_iter/index.html">program_iter</a></span><span> : <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-source_file" class="anchored"><a href="#type-source_file" class="anchor"></a><code><span><span class="keyword">type</span> source_file</span><span> = <span><a href="#type-law_structure">law_structure</a> list</span></span></code></div></div><h2 id="helpers"><a href="#helpers" class="anchor"></a>Helpers</h2><div class="odoc-spec"><div class="spec value" id="val-rule_to_def" class="anchored"><a href="#val-rule_to_def" class="anchor"></a><code><span><span class="keyword">val</span> rule_to_def : <span><a href="#type-rule">rule</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-definition">definition</a></span></code></div><div class="spec-doc"><p>Translates a <a href="#type-rule"><code>rule</code></a> into the corresponding <a href="#type-definition"><code>definition</code></a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-type_from_args" class="anchored"><a href="#val-type_from_args" class="anchor"></a><code><span><span class="keyword">val</span> type_from_args : 
  <span><span><span><span><span>(<span><a href="#type-lident">lident</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> * <span><a href="#type-base_typ">base_typ</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>)</span> list</span>
    <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span>
    option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-base_typ">base_typ</a> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-typ">typ</a></span></code></div></div></div></body></html>