<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>dcalc (catala.dcalc)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="index.html">Up</a> â€“ <a href="index.html">catala</a> &#x00BB; dcalc</nav><header class="odoc-preamble"><h1 id="default-calculus"><a href="#default-calculus" class="anchor"></a>Default calculus</h1><p>This representation is the fourth in the compilation chain (see <a href="index.html#architecture">Architecture</a>). Its main difference with the previous <a href="desugared.html">desugared representation</a> is that scopes have been lowered into regular functions, and enums and structs have been lowered to sum and product types. The default calculus can be later compiled to a <a href="lcalc.html">lambda calculus</a>.</p><p>The module describing the abstract syntax tree is <a href="Dcalc/Ast/index.html"><code>Dcalc.Ast</code></a>. Printing helpers can be found in <code>Dcalc</code>.Print. This intermediate representation corresponds to the default calculus presented in the <a href="https://arxiv.org/abs/2103.03198">Catala formalization</a>.</p><p>Related modules:</p><ul class="modules"><li><a href="Dcalc/Ast/index.html"><code>Dcalc.Ast</code></a> <span class="synopsis">Abstract syntax tree of the default calculus intermediate representation</span></li></ul></header><nav class="odoc-toc"><ul><li><a href="#typing">Typing</a></li><li><a href="#interpreter">Interpreter</a></li><li><a href="#optimizations">Optimizations</a></li></ul></nav><div class="odoc-content"><h2 id="typing"><a href="#typing" class="anchor"></a>Typing</h2><p>This representation is where the typing is performed. Indeed, <code>Dcalc</code>.Typing implements the classical <a href="https://en.wikipedia.org/wiki/Hindley%E2%80%93Milner_type_system">W algorithm</a> corresponding to a Hindley-Milner type system, without type constraints.</p><p>Related modules:</p><ul class="modules"><li><code>Dcalc</code>.Typing </li></ul><h2 id="interpreter"><a href="#interpreter" class="anchor"></a>Interpreter</h2><p>Since this representation is currently the last of the compilation chain, an <code>Dcalc</code>.Interpreter module is provided to match the execution semantics of the default calculus.</p><p>Later, translations to a regular lambda calculus and/or a simple imperative language are bound to be added.</p><p>Related modules:</p><ul class="modules"><li><code>Dcalc</code>.Interpreter </li></ul><h2 id="optimizations"><a href="#optimizations" class="anchor"></a>Optimizations</h2><p>Classical optimizations passes can be performed on the Dcalc AST: partial evaluation, beta and iota-reduction, etc.</p><p>Related modules:</p><ul class="modules"><li><code>Dcalc</code>.Optimizations </li></ul></div></body></html>