<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Expr (catala.Shared_ast.Expr)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">catala</a> &#x00BB; <a href="../index.html">Shared_ast</a> &#x00BB; Expr</nav><header class="odoc-preamble"><h1>Module <code><span>Shared_ast.Expr</span></code></h1><p>Functions handling the expressions of <code>shared_ast</code></p></header><nav class="odoc-toc"><ul><li><a href="#boxed-constructors">Boxed constructors</a></li><li><a href="#traversal-functions">Traversal functions</a></li><li><a href="#expression-building-helpers">Expression building helpers</a></li><li><a href="#transformations">Transformations</a></li><li><a href="#analysis-and-tests">Analysis and tests</a></li></ul></nav><div class="odoc-content"><h3 id="boxed-constructors"><a href="#boxed-constructors" class="anchor"></a>Boxed constructors</h3><div class="odoc-spec"><div class="spec value" id="val-box" class="anchored"><a href="#val-box" class="anchor"></a><code><span><span class="keyword">val</span> box : 
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p>Box the expression from the outside</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unbox" class="anchored"><a href="#val-unbox" class="anchor"></a><code><span><span class="keyword">val</span> unbox : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p>For closed expressions, similar to <code>Bindlib.unbox</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-rebox" class="anchored"><a href="#val-rebox" class="anchor"></a><code><span><span class="keyword">val</span> rebox : 
  <span><span><span>( <span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p>Rebuild the whole term, re-binding all variables and exposing free variables</p></div></div><div class="odoc-spec"><div class="spec value" id="val-evar" class="anchored"><a href="#val-evar" class="anchor"></a><code><span><span class="keyword">val</span> evar : 
  <span><span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <a href="../Var/index.html#type-t">Var.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bind" class="anchored"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : 
  <span><span><span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <a href="../Var/index.html#type-t">Var.t</a></span>
    array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
      <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> )</span>
    <span class="xref-unresolved">Bindlib</span>.mbinder</span>
    <span class="xref-unresolved">Bindlib</span>.box</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-subst" class="anchored"><a href="#val-subst" class="anchor"></a><code><span><span class="keyword">val</span> subst : 
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
      <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> )</span>
    <span class="xref-unresolved">Bindlib</span>.mbinder</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-etuple" class="anchored"><a href="#val-etuple" class="anchor"></a><code><span><span class="keyword">val</span> etuple : 
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-etupleaccess" class="anchored"><a href="#val-etupleaccess" class="anchor"></a><code><span><span class="keyword">val</span> etupleaccess : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-earray" class="anchored"><a href="#val-earray" class="anchor"></a><code><span><span class="keyword">val</span> earray : 
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-elit" class="anchored"><a href="#val-elit" class="anchor"></a><code><span><span class="keyword">val</span> elit : 
  <span><span class="xref-unresolved">Shared_ast__Definitions.lit</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eabs" class="anchored"><a href="#val-eabs" class="anchor"></a><code><span><span class="keyword">val</span> eabs : 
  <span><span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
      <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> )</span>
    <span class="xref-unresolved">Bindlib</span>.mbinder</span>
    <span class="xref-unresolved">Bindlib</span>.box</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eapp" class="anchored"><a href="#val-eapp" class="anchor"></a><code><span><span class="keyword">val</span> eapp : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eassert" class="anchored"><a href="#val-eassert" class="anchor"></a><code><span><span class="keyword">val</span> eassert : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; assertions : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; assertions : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eop" class="anchored"><a href="#val-eop" class="anchor"></a><code><span><span class="keyword">val</span> eop : 
  <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.Op.t</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-edefault" class="anchored"><a href="#val-edefault" class="anchor"></a><code><span><span class="keyword">val</span> edefault : 
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eifthenelse" class="anchored"><a href="#val-eifthenelse" class="anchor"></a><code><span><span class="keyword">val</span> eifthenelse : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eemptyerror" class="anchored"><a href="#val-eemptyerror" class="anchor"></a><code><span><span class="keyword">val</span> eemptyerror : 
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eerroronempty" class="anchored"><a href="#val-eerroronempty" class="anchor"></a><code><span><span class="keyword">val</span> eerroronempty : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ecatch" class="anchored"><a href="#val-ecatch" class="anchor"></a><code><span><span class="keyword">val</span> ecatch : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.except</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; exceptions : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; exceptions : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-eraise" class="anchored"><a href="#val-eraise" class="anchor"></a><code><span><span class="keyword">val</span> eraise : 
  <span><span class="xref-unresolved">Shared_ast__Definitions.except</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; exceptions : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span>,
      <span>&lt; exceptions : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span>,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-elocation" class="anchored"><a href="#val-elocation" class="anchor"></a><code><span><span class="keyword">val</span> elocation : 
  <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.glocation</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; .. &gt;</span> <span class="keyword">as</span> 'a, <span>&lt; .. &gt;</span> <span class="keyword">as</span> 'a, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-estruct" class="anchored"><a href="#val-estruct" class="anchor"></a><code><span><span class="keyword">val</span> estruct : 
  <span><span class="xref-unresolved">Shared_ast__Definitions.StructName.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <span class="xref-unresolved">Shared_ast__Definitions.StructField.Map.t</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-edstructaccess" class="anchored"><a href="#val-edstructaccess" class="anchor"></a><code><span><span class="keyword">val</span> edstructaccess : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Catala_utils/String/index.html#type-t">Catala_utils.String.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="xref-unresolved">Shared_ast__Definitions.StructName.t</span> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; syntacticNames : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; syntacticNames : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-estructaccess" class="anchored"><a href="#val-estructaccess" class="anchor"></a><code><span><span class="keyword">val</span> estructaccess : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.StructField.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.StructName.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; resolvedNames : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; resolvedNames : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-einj" class="anchored"><a href="#val-einj" class="anchor"></a><code><span><span class="keyword">val</span> einj : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.EnumConstructor.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.EnumName.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ematch" class="anchored"><a href="#val-ematch" class="anchor"></a><code><span><span class="keyword">val</span> ematch : 
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.EnumName.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <span class="xref-unresolved">Shared_ast__Definitions.EnumConstructor.Map.t</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-escopecall" class="anchored"><a href="#val-escopecall" class="anchor"></a><code><span><span class="keyword">val</span> escopecall : 
  <span><span class="xref-unresolved">Shared_ast__Definitions.ScopeName.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <span class="xref-unresolved">Shared_ast__Definitions.ScopeVar.Map.t</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; explicitScopes : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; explicitScopes : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fun_id" class="anchored"><a href="#val-fun_id" class="anchor"></a><code><span><span class="keyword">val</span> fun_id : 
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><p>Manipulation of marks</p><div class="odoc-spec"><div class="spec value" id="val-no_mark" class="anchored"><a href="#val-no_mark" class="anchor"></a><code><span><span class="keyword">val</span> no_mark : 
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mark_pos" class="anchored"><a href="#val-mark_pos" class="anchor"></a><code><span><span class="keyword">val</span> mark_pos : <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span> <a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-with_pos" class="anchored"><a href="#val-with_pos" class="anchor"></a><code><span><span class="keyword">val</span> with_pos : 
  <span><a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-with_ty" class="anchored"><a href="#val-with_ty" class="anchor"></a><code><span><span class="keyword">val</span> with_ty : 
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span>?pos:<a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span></span></code></div><div class="spec-doc"><p>Adds the given type information only on typed marks</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_ty" class="anchored"><a href="#val-map_ty" class="anchor"></a><code><span><span class="keyword">val</span> map_ty : 
  <span><span>( <span><span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span></span></code></div><div class="spec-doc"><p>Identity on untyped marks</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_mark" class="anchored"><a href="#val-map_mark" class="anchor"></a><code><span><span class="keyword">val</span> map_mark : 
  <span><span>( <span><a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-map_mark2" class="anchored"><a href="#val-map_mark2" class="anchor"></a><code><span><span class="keyword">val</span> map_mark2 : 
  <span><span>( <span><a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span class="xref-unresolved">Shared_ast__Definitions.typed</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span class="xref-unresolved">Shared_ast__Definitions.typed</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_marks" class="anchored"><a href="#val-fold_marks" class="anchor"></a><code><span><span class="keyword">val</span> fold_marks : 
  <span><span>( <span><span><a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span class="xref-unresolved">Shared_ast__Definitions.typed</span> list</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-maybe_ty" class="anchored"><a href="#val-maybe_ty" class="anchor"></a><code><span><span class="keyword">val</span> maybe_ty : 
  <span>?typ:<span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></div><div class="spec-doc"><p>Returns the corresponding type on a typed expr, or <code>typ</code> (defaulting to <code>TAny</code>) at the current position on an untyped one</p></div></div><p>Manipulation of marked expressions</p><div class="odoc-spec"><div class="spec value" id="val-pos" class="anchored"><a href="#val-pos" class="anchor"></a><code><span><span class="keyword">val</span> pos : 
  <span><span><span>( <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span> <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-ty" class="anchored"><a href="#val-ty" class="anchor"></a><code><span><span class="keyword">val</span> ty : 
  <span><span><span>( <span class="type-var">'e</span>, <span><span class="xref-unresolved">Shared_ast__Definitions.typed</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_ty" class="anchored"><a href="#val-set_ty" class="anchor"></a><code><span><span class="keyword">val</span> set_ty : 
  <span><span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span> <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'a</span>, <span><span class="xref-unresolved">Shared_ast__Definitions.typed</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-untype" class="anchored"><a href="#val-untype" class="anchor"></a><code><span><span class="keyword">val</span> untype : 
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="xref-unresolved">Shared_ast__Definitions.untyped</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="xref-unresolved">Shared_ast__Definitions.untyped</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><h3 id="traversal-functions"><a href="#traversal-functions" class="anchor"></a>Traversal functions</h3><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : 
  <span>f:
    <span>( <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'m1</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'m1</span> )</span>
        <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
      <span><span>( <span><span><span>( <span class="type-var">'b</span>, <span class="type-var">'b</span>, <span class="type-var">'m2</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'m2</span> )</span>
        <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'m1</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'m2</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'b</span>, <span class="type-var">'b</span>, <span class="type-var">'m2</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'m2</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p>Shallow mapping on expressions (non recursive): applies the given function to all sub-terms of the given expression, and rebuilds the node.</p><p>This function makes it very concise to transform only certain nodes of the AST. For instance, if you want to remove all errors on empty, you can write</p><pre><code>let remove_error_empty e =
  let rec f e =
    match Marked.unmark e with
    | EErrorOnEmpty e1 -&gt; Expr.map ~f e1
    | _ -&gt; Expr.map ~f e
  in
  f e</code></pre><p>This can even be used to translate between different kinds of ASTs: see <code>Lcalc.Compile_without_exceptions</code> for an example. The structure is like this:</p><pre><code>let rec translate = function
  | SpecificCase e -&gt; TargetCase (translate e)
  | (All | Other | Common | Cases) as e -&gt; Expr.map ~f:translate e</code></pre><p>The <code>e</code> parameter passed to <code>map</code> here needs to have only the common cases in its shallow type, but can still contain any node from the starting AST deeper inside: this is where the second type parameter to <code>base_gexpr</code> becomes useful.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_top_down" class="anchored"><a href="#val-map_top_down" class="anchor"></a><code><span><span class="keyword">val</span> map_top_down : 
  <span>f:
    <span>( <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t1</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t1</span> )</span>
        <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
      <span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t1</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t2</span> )</span>
        <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t1</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t1</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t2</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t2</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p>Recursively applies <code>f</code> to the nodes of the expression tree. The type returned by <code>f</code> is hybrid since the mark at top-level has been rewritten, but not yet the marks in the subtrees.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_marks" class="anchored"><a href="#val-map_marks" class="anchor"></a><code><span><span class="keyword">val</span> map_marks : 
  <span>f:<span>( <span><span class="type-var">'t1</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'t2</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t1</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t1</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t2</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t2</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-shallow_fold" class="anchored"><a href="#val-shallow_fold" class="anchor"></a><code><span><span class="keyword">val</span> shallow_fold : 
  <span><span>( <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
      <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
    <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span>
    <span class="type-var">'acc</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'acc</span></span></code></div><div class="spec-doc"><p>Applies a function on all sub-terms of the given expression. Does not recurse. It opens binders unless you avoid sending binders to the function like the example below. Useful as helper for recursive calls within traversal functions. This can be used to compute free variables with e.g.:</p><pre><code>let rec free_vars = function
  | EVar v, _ -&gt; Var.Set.singleton v
  | EAbs { binder; _ }, _ -&gt;
    let vs, body = Bindlib.unmbind binder in
    Array.fold_right Var.Set.remove vs (free_vars body)
  | e -&gt;
    shallow_fold (fun e -&gt; Var.Set.union (free_vars e)) e Var.Set.empty</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-map_gather" class="anchored"><a href="#val-map_gather" class="anchor"></a><code><span><span class="keyword">val</span> map_gather : 
  <span>acc:<span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span>
  <span>join:<span>( <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:
    <span>( <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t1</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t1</span> )</span>
        <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
      <span class="type-var">'acc</span>
      * <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t2</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t2</span> )</span>
          <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t1</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t2</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'acc</span>
  * <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t2</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t2</span> )</span>
      <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p>Shallow mapping similar to <code>map</code>, but additionally allows to gather an accumulator bottom-up. <code>acc</code> is the accumulator value returned on terminal nodes, and <code>join</code> is used to merge accumulators from the different sub-terms of an expression. <code>acc</code> is assumed to be a neutral element for <code>join</code>. Typically used with a set of variables used in the rewrite:</p><pre><code>let rec rewrite e =
  match Marked.unmark e with
  | Specific_case -&gt; Var.Set.singleton x, some_rewrite_fun e
  | _ -&gt;
    Expr.map_gather ~acc:Var.Set.empty ~join:Var.Set.union ~f:rewrite e</code></pre><p>See <code>Lcalc.closure_conversion</code> for a real-world example.</p></div></div><h3 id="expression-building-helpers"><a href="#expression-building-helpers" class="anchor"></a>Expression building helpers</h3><div class="odoc-spec"><div class="spec value" id="val-make_var" class="anchored"><a href="#val-make_var" class="anchor"></a><code><span><span class="keyword">val</span> make_var : 
  <span><span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <a href="../Var/index.html#type-t">Var.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_abs" class="anchored"><a href="#val-make_abs" class="anchor"></a><code><span><span class="keyword">val</span> make_abs : 
  <span><span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <a href="../Var/index.html#type-vars">Var.vars</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_app" class="anchored"><a href="#val-make_app" class="anchor"></a><code><span><span class="keyword">val</span> make_app : 
  <span><span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty_thunked_term" class="anchored"><a href="#val-empty_thunked_term" class="anchor"></a><code><span><span class="keyword">val</span> empty_thunked_term : 
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span>,
      <span>&lt; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span>,
      <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-thunk_term" class="anchored"><a href="#val-thunk_term" class="anchor"></a><code><span><span class="keyword">val</span> thunk_term : 
  <span><span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'b</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'b</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'b</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'b</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unthunk_term_nobox" class="anchored"><a href="#val-unthunk_term_nobox" class="anchor"></a><code><span><span class="keyword">val</span> unthunk_term_nobox : 
  <span><span><span>( <span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_let_in" class="anchored"><a href="#val-make_let_in" class="anchor"></a><code><span><span class="keyword">val</span> make_let_in : 
  <span><span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <a href="../Var/index.html#type-t">Var.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_multiple_let_in" class="anchored"><a href="#val-make_multiple_let_in" class="anchor"></a><code><span><span class="keyword">val</span> make_multiple_let_in : 
  <span><span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <a href="../Var/index.html#type-vars">Var.vars</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="xref-unresolved">Shared_ast__Definitions.naked_typ</span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Catala_utils/Pos/index.html#type-t">Catala_utils.Pos.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_default" class="anchored"><a href="#val-make_default" class="anchor"></a><code><span><span class="keyword">val</span> make_default : 
  <span><span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span>&lt; polymorphic : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>
      ; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; polymorphic : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>
      ; defaultTerms : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p><code>make_default ?pos exceptions just cons</code> builds a term semantically equivalent to <code>&lt;exceptions | just :- cons&gt;</code> (the <code>EDefault</code> constructor) while avoiding redundant nested constructions. The position is extracted from <code>just</code> by default.</p><p>Note that some simplifications take place here, even though all of them return an <code>EDefault</code> term:</p><ul><li><code>&lt;ex | true :- def&gt;</code>, when <code>def</code> is a default term <code>&lt;j :- c&gt;</code> without exceptions, is collapsed into <code>&lt;ex | def&gt;</code></li><li><code>&lt;ex | false :- _&gt;</code>, when <code>ex</code> is a single exception of the form <code>EDefault</code>, is rewritten as <code>ex</code></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-make_tuple" class="anchored"><a href="#val-make_tuple" class="anchor"></a><code><span><span class="keyword">val</span> make_tuple : 
  <span><span><span><span>( <span><span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>,
      <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>
      <span class="xref-unresolved">Bindlib</span>.box</span>,
    <span><span class="type-var">'m</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p>Builds a tuple; the mark argument is only used as witness and for position when building 0-uples</p></div></div><h3 id="transformations"><a href="#transformations" class="anchor"></a>Transformations</h3><div class="odoc-spec"><div class="spec value" id="val-skip_wrappers" class="anchored"><a href="#val-skip_wrappers" class="anchor"></a><code><span><span class="keyword">val</span> skip_wrappers : 
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'m</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'m</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'m</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'m</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p>Removes surface logging calls and <code>EErrorOnEmpty</code> nodes. Shallow function</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_logging_calls" class="anchored"><a href="#val-remove_logging_calls" class="anchor"></a><code><span><span class="keyword">val</span> remove_logging_calls : 
  <span><span><span>( <span><span>( <span>&lt; polymorphic : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span>&lt; polymorphic : <span class="xref-unresolved">Shared_ast__Definitions.yes</span>.. &gt;</span> <span class="keyword">as</span> 'a,
      <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span> <span class="xref-unresolved">Bindlib</span>.box</span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span></span></code></div><div class="spec-doc"><p>Removes all calls to <code>Log</code> unary operators in the AST, replacing them by their argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-format" class="anchored"><a href="#val-format" class="anchor"></a><code><span><span class="keyword">val</span> format : 
  <span>?debug:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.decl_ctx</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">_</span>, <span class="type-var">_</span>, <span><span class="type-var">_</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span><span class="type-var">_</span> <span class="xref-unresolved">Shared_ast__Definitions.mark</span></span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><h3 id="analysis-and-tests"><a href="#analysis-and-tests" class="anchor"></a>Analysis and tests</h3><div class="odoc-spec"><div class="spec value" id="val-equal_lit" class="anchored"><a href="#val-equal_lit" class="anchor"></a><code><span><span class="keyword">val</span> equal_lit : 
  <span><span class="xref-unresolved">Shared_ast__Definitions.lit</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.lit</span> <span class="arrow">&#45;&gt;</span></span>
  bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_lit" class="anchored"><a href="#val-compare_lit" class="anchor"></a><code><span><span class="keyword">val</span> compare_lit : 
  <span><span class="xref-unresolved">Shared_ast__Definitions.lit</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.lit</span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-equal_location" class="anchored"><a href="#val-equal_location" class="anchor"></a><code><span><span class="keyword">val</span> equal_location : 
  <span><span><span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.glocation</span></span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.glocation</span></span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
  bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_location" class="anchored"><a href="#val-compare_location" class="anchor"></a><code><span><span class="keyword">val</span> compare_location : 
  <span><span><span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.glocation</span></span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.glocation</span></span> <a href="../../Catala_utils/Marked/index.html#type-pos">Catala_utils.Marked.pos</a></span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-equal_except" class="anchored"><a href="#val-equal_except" class="anchor"></a><code><span><span class="keyword">val</span> equal_except : 
  <span><span class="xref-unresolved">Shared_ast__Definitions.except</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.except</span> <span class="arrow">&#45;&gt;</span></span>
  bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_except" class="anchored"><a href="#val-compare_except" class="anchor"></a><code><span><span class="keyword">val</span> compare_except : 
  <span><span class="xref-unresolved">Shared_ast__Definitions.except</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Shared_ast__Definitions.except</span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : 
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  bool</span></code></div><div class="spec-doc"><p>Determines if two expressions are equal, omitting their position information</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : 
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>Standard comparison function, suitable for e.g. <code>Set.Make</code>. Ignores position information</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_value" class="anchored"><a href="#val-is_value" class="anchor"></a><code><span><span class="keyword">val</span> is_value : 
  <span><span><span>( <span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-free_vars" class="anchored"><a href="#val-free_vars" class="anchor"></a><code><span><span class="keyword">val</span> free_vars : 
  <span><span><span>( <span><span>( <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span><span class="type-var">'a</span> <span class="xref-unresolved">Shared_ast__Definitions.any</span></span>, <span class="type-var">'t</span> )</span>
      <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>,
    <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span>
    <a href="../Var/Set/index.html#type-t">Var.Set.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-size" class="anchored"><a href="#val-size" class="anchor"></a><code><span><span class="keyword">val</span> size : 
  <span><span><span>( <span><span>( <span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'t</span> )</span> <span class="xref-unresolved">Shared_ast__Definitions.base_gexpr</span></span>, <span class="type-var">'t</span> )</span>
    <a href="../../Catala_utils/Marked/index.html#type-t">Catala_utils.Marked.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>Used by the optimizer to know when to stop</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Box" class="anchored"><a href="#module-Box" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Box/index.html">Box</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>