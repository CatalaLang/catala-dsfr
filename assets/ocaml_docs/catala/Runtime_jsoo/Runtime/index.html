<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Runtime (catala.Runtime_jsoo.Runtime)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">catala</a> &#x00BB; <a href="../index.html">Runtime_jsoo</a> &#x00BB; Runtime</nav><header class="odoc-preamble"><h1>Module <code><span>Runtime_jsoo.Runtime</span></code></h1><p>A <a href="http://ocsigen.org/js_of_ocaml/latest/manual/overview">js_of_ocaml</a> wrapper around the <a href="../../Runtime_ocaml/Runtime/index.html"><code>Runtime_ocaml.Runtime</code></a>.</p></header><nav class="odoc-toc"><ul><li><a href="#log-events">Log events</a></li><li><a href="#duration">Duration</a></li><li><a href="#date-conversion">Date conversion</a></li><li><a href="#error-management">Error management</a></li></ul></nav><div class="odoc-content"><h2 id="log-events"><a href="#log-events" class="anchor"></a>Log events</h2><div class="odoc-spec"><div class="spec class-type" id="class-type-source_position" class="anchored"><a href="#class-type-source_position" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-source_position/index.html">source_position</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Information about the position of the log inside the Catala source file.</p></div></div><div class="odoc-spec"><div class="spec class-type" id="class-type-raw_event" class="anchored"><a href="#class-type-raw_event" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-raw_event/index.html">raw_event</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Wrapper for the <a href="../../Runtime_ocaml/Runtime/index.html#type-raw_event"><code>Runtime_ocaml.Runtime.raw_event</code></a> -- directly collected during the program execution.</p></div></div><div class="odoc-spec"><div class="spec class-type" id="class-type-event" class="anchored"><a href="#class-type-event" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-event/index.html">event</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Wrapper for the <a href="../../Runtime_ocaml/Runtime/index.html#type-event"><code>Runtime_ocaml.Runtime.event</code></a> -- structured log event parsed from the <a href="class-type-raw_event/index.html"><code>raw_event</code></a> ones.</p></div></div><div class="odoc-spec"><div class="spec class-type" id="class-type-event_manager" class="anchored"><a href="#class-type-event_manager" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-event_manager/index.html">event_manager</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-event_manager" class="anchored"><a href="#val-event_manager" class="anchor"></a><code><span><span class="keyword">val</span> event_manager : <span><a href="class-type-event_manager/index.html">event_manager</a> <span class="xref-unresolved">Js_of_ocaml</span>.Js.t</span></span></code></div><div class="spec-doc"><p>JS object usable to retrieve and reset log events.</p></div></div><h2 id="duration"><a href="#duration" class="anchor"></a>Duration</h2><div class="odoc-spec"><div class="spec class-type" id="class-type-duration" class="anchored"><a href="#class-type-duration" class="anchor"></a><code><span><span class="keyword">class</span> <span class="keyword">type</span>  </span><span><a href="class-type-duration/index.html">duration</a></span><span> = <span class="keyword">object</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Simple JSOO wrapper around <a href="../../Runtime_ocaml/Runtime/index.html#type-duration"><code>Runtime_ocaml.Runtime.duration</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-duration_of_jsoo" class="anchored"><a href="#val-duration_of_jsoo" class="anchor"></a><code><span><span class="keyword">val</span> duration_of_jsoo : 
  <span><span><a href="class-type-duration/index.html">duration</a> <span class="xref-unresolved">Js_of_ocaml</span>.Js.t</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Runtime_ocaml/Runtime/index.html#type-duration">Runtime_ocaml.Runtime.duration</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-duration_to_jsoo" class="anchored"><a href="#val-duration_to_jsoo" class="anchor"></a><code><span><span class="keyword">val</span> duration_to_jsoo : 
  <span><a href="../../Runtime_ocaml/Runtime/index.html#type-duration">Runtime_ocaml.Runtime.duration</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="class-type-duration/index.html">duration</a> <span class="xref-unresolved">Js_of_ocaml</span>.Js.t</span></span></code></div></div><h2 id="date-conversion"><a href="#date-conversion" class="anchor"></a>Date conversion</h2><p>Date values are encoded to a string in the <a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO8601 format</a>: 'YYYY-MM-DD'.</p><div class="odoc-spec"><div class="spec value" id="val-date_of_jsoo" class="anchored"><a href="#val-date_of_jsoo" class="anchor"></a><code><span><span class="keyword">val</span> date_of_jsoo : 
  <span><span><span class="xref-unresolved">Js_of_ocaml</span>.Js.js_string <span class="xref-unresolved">Js_of_ocaml</span>.Js.t</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="../../Runtime_ocaml/Runtime/index.html#type-date">Runtime_ocaml.Runtime.date</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-date_to_jsoo" class="anchored"><a href="#val-date_to_jsoo" class="anchor"></a><code><span><span class="keyword">val</span> date_to_jsoo : 
  <span><a href="../../Runtime_ocaml/Runtime/index.html#type-date">Runtime_ocaml.Runtime.date</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Js_of_ocaml</span>.Js.js_string <span class="xref-unresolved">Js_of_ocaml</span>.Js.t</span></span></code></div></div><h2 id="error-management"><a href="#error-management" class="anchor"></a>Error management</h2><div class="odoc-spec"><div class="spec value" id="val-execute_or_throw_error" class="anchored"><a href="#val-execute_or_throw_error" class="anchor"></a><code><span><span class="keyword">val</span> execute_or_throw_error : <span><span>( <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>execute_or_throw_error f</code> calls <code>f ()</code> and propagates the <a href="../../Runtime_ocaml/Runtime/index.html#exception-NoValueProvided"><code>Runtime_ocaml.Runtime.NoValueProvided</code></a>, <a href="../../Runtime_ocaml/Runtime/index.html#exception-ConflictError"><code>Runtime_ocaml.Runtime.ConflictError</code></a> <a href="../../Runtime_ocaml/Runtime/index.html#exception-AssertionFailed"><code>Runtime_ocaml.Runtime.AssertionFailed</code></a> exceptions by raising a JS error if needed.</p></div></div></div></body></html>