<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Apr 27 11:51:27 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CLERK</title>

</head>
<body>

<h1 align="center">CLERK</h1>



<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">clerk - Build
system for Catala, a specification language for tax and
social benefits computation rules.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>clerk</b>
[<i>OPTION</i>]&acirc;&brvbar; <i>COMMAND
FILE(S)</i>&acirc;&brvbar;</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>clerk</b> is
a build system for Catala, a specification language for tax
and social benefits computation rules</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">test</p>

<p style="margin-left:17%;">Tests a Catala source file
given expected outputs provided in a directory called
&rsquo;output&rsquo; at the same level that the tested file.
If the tested file is &rsquo;foo.catala_en&rsquo;, then
&rsquo;output&rsquo; should contain expected output files
like &rsquo;foo.catala_en.<i>BACKEND</i>&rsquo; where
<i>BACKEND</i> is chosen among: &rsquo;Interpret&rsquo;,
&rsquo;Dcalc&rsquo;, &rsquo;Scalc&rsquo;,
&rsquo;Lcalc&rsquo;, &rsquo;Typecheck,
&rsquo;Scopelang&rsquo;, &rsquo;html&rsquo;,
&rsquo;tex&rsquo;, &rsquo;py&rsquo;, &rsquo;ml&rsquo; and
&rsquo;d&rsquo; (for Makefile dependencies). For the
&rsquo;Interpret&rsquo; backend, the scope to test is
selected by naming the expected output file
&rsquo;foo.catala_en.<i>SCOPE</i>.interpret&rsquo;. When the
argument of <b>clerk</b> is a folder, it recursively looks
for Catala files coupled with &rsquo;output&rsquo;
directories and matching expected output on which to perform
tests.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>run</p></td>
<td width="2%"></td>
<td width="83%">


<p>Runs the Catala interpreter on a given scope of a given
file. See the &rsquo;-s&rsquo; option.</p></td></tr>
</table>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>COMMAND</i>
(required)</p>

<p style="margin-left:17%;">Command selection among: test,
run</p>

<p style="margin-left:11%;"><i>FILE(S)</i> (required)</p>

<p style="margin-left:17%;">File(s) or folder(s) to
process</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>-c</b>
<i>LANG</i>, <b>--catala-opts</b>=<i>LANG</i></p>

<p style="margin-left:17%;">Options to pass to the Catala
compiler</p>

<p style="margin-left:11%;"><b>-d</b>, <b>--debug</b></p>

<p style="margin-left:17%;">Prints debug information</p>

<p style="margin-left:11%;"><b>-e</b> <i>EXE</i>,
<b>--exe</b>=<i>EXE</i></p>

<p style="margin-left:17%;">Catala compiler executable,
defaults to &rsquo;catala&rsquo;</p>


<p style="margin-left:11%;"><b>--makeflags</b>=<i>LANG</i></p>

<p style="margin-left:17%;">Provides the contents of a
<i>MAKEFLAGS</i> variable to pass on to Ninja. Currently
recognizes the -i and -j options.</p>

<p style="margin-left:11%;"><b>-o</b> <i>OUTPUT</i>,
<b>--output</b>=<i>OUTPUT</i></p>

<p style="margin-left:17%;"><i>OUTPUT</i> is the file that
will contain the build.ninja file output. If not specified,
the build.ninja file will be outputed in the temporary
directory of the system.</p>

<p style="margin-left:11%;"><b>-r</b>, <b>--reset</b></p>

<p style="margin-left:17%;">Used with the
&rsquo;test&rsquo; command, resets the test output to
whatever is output by the Catala compiler.</p>

<p style="margin-left:11%;"><b>-s</b> <i>SCOPE</i>,
<b>--scope</b>=<i>SCOPE</i></p>

<p style="margin-left:17%;">Used with the &rsquo;run&rsquo;
command, selects which scope of a given Catala file to
run.</p>

<h2>COMMON OPTIONS
<a name="COMMON OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>--help</b>[=<i>FMT</i>]
(default=<b>auto</b>)</p>

<p style="margin-left:17%;">Show this help in format
<i>FMT</i>. The value <i>FMT</i> must be one of <b>auto</b>,
<b>pager</b>, <b>groff</b> or <b>plain</b>. With
<b>auto</b>, the format is <b>pager</b> or <b>plain</b>
whenever the <b>TERM</b> env var is <b>dumb</b> or
undefined.</p>

<p style="margin-left:11%;"><b>--version</b></p>

<p style="margin-left:17%;">Show version information.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>clerk</b>
exits with the following status:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>0</p></td>
<td width="2%"></td>
<td width="80%">


<p>on success.</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>1</p></td>
<td width="2%"></td>
<td width="80%">


<p>on error.</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>123</p></td>
<td width="2%"></td>
<td width="80%">


<p>on indiscriminate errors reported on standard error.</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>124</p></td>
<td width="2%"></td>
<td width="80%">


<p>on command line parsing errors.</p></td>
<td width="3%">
</td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="4%">


<p>125</p></td>
<td width="2%"></td>
<td width="80%">


<p>on unexpected internal errors (bugs).</p></td>
<td width="3%">
</td></tr>
</table>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Denis Merigoux
&lt;denis.merigoux@inria.fr&gt;</p>

<p style="margin-left:11%; margin-top: 1em">Emile Rolley
&lt;emile.rolley@tuta.io&gt;</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Typical
usage:</p>

<p style="margin-left:11%; margin-top: 1em">clerk test
file.catala_en</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Please file bug
reports at https://github.com/CatalaLang/catala/issues</p>
</body>
</html>
